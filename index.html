<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jogo EmergÃªncia Mundial</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f0f4f2;
      margin: 0;
      padding: 2rem;
    }
    h1, h2 {
      color: #2e5949;
    }
    .board {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 1rem;
      margin-bottom: 2rem;
    }
    .card {
      background: #ffffff;
      border: 2px solid #2e5949;
      border-radius: 1rem;
      padding: 1rem;
      box-shadow: 2px 2px 6px rgba(0,0,0,0.1);
      min-height: 150px;
      transition: all 0.3s ease-in-out;
    }
    .card.drag-over {
      border: 2px dashed #4caf50;
      background-color: #f1fff4;
    }
    .card.fade-out {
      animation: fadeOut 0.6s forwards;
    }
    @keyframes fadeOut {
      0% { opacity: 1; transform: scale(1); }
      100% { opacity: 0; transform: scale(1.05); }
    }

    .card h3 {
      margin-top: 0;
      color: #2e5949;
    }
    .card p {
      font-size: 0.95rem;
    }
    .gtis {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      margin-bottom: 2rem;
    }
    .gti {
      background-color: #2e5949;
      color: white;
      padding: 0.75rem 1.5rem;
      border-radius: 0.5rem;
      cursor: grab;
      transition: opacity 0.3s;
    }
    .gti:active {
      cursor: grabbing;
    }
    .gti.usado {
      opacity: 0.4;
      cursor: not-allowed;
    }
    .status {
      margin-top: 2rem;
      padding: 1rem;
      background: #eaf7f2;
      border: 1px solid #c5e2d5;
      border-radius: 0.5rem;
    }

    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0, 0, 0, 0.5);
      align-items: center;
      justify-content: center;
    }
    .modal-content {
      background: #fff;
      padding: 2rem;
      border-radius: 1rem;
      width: 90%;
      max-width: 500px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
      text-align: center;
    }
    .modal-content h3 {
      margin-top: 0;
      color: #2e5949;
    }
    .modal-content button {
      margin-top: 1rem;
      padding: 0.5rem 1rem;
      background: #2e5949;
      color: #fff;
      border: none;
      border-radius: 0.5rem;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h1>Jogo: EmergÃªncia Mundial</h1>

  <h2>Eventos Ativos</h2>
  <div class="board" id="eventos">
    <div class="card" id="evento1" ondragover="allowDrop(event)" ondragleave="dragLeave(event)" ondrop="drop(event, 'engenharia')">
      <h3>ğŸŒ¡ï¸ Onda de Calor</h3>
      <p>Temperaturas extremas prejudicam o ambiente escolar.</p>
      <p><strong>SoluÃ§Ã£o:</strong> GTI Engenharia</p>
    </div>
    <div class="card" id="evento2" ondragover="allowDrop(event)" ondragleave="dragLeave(event)" ondrop="drop(event, 'ciencia')">
      <h3>ğŸ¦Ÿ Surto de Dengue</h3>
      <p>Alta proliferaÃ§Ã£o do mosquito em Ã¡reas escolares.</p>
      <p><strong>SoluÃ§Ã£o:</strong> GTI CiÃªncia CidadÃ£</p>
    </div>
    <div class="card" id="evento3" ondragover="allowDrop(event)" ondragleave="dragLeave(event)" ondrop="drop(event, 'sistemas')">
      <h3>ğŸ” Merenda Ultraprocessada</h3>
      <p>Alunos sem acesso a alimentaÃ§Ã£o saudÃ¡vel.</p>
      <p><strong>SoluÃ§Ã£o:</strong> GTI Sistemas Alimentares</p>
    </div>
    <div class="card" id="evento4" ondragover="allowDrop(event)" ondragleave="dragLeave(event)" ondrop="drop(event, 'comunicacao')">
      <h3>ğŸ“± Fake News ClimÃ¡tica</h3>
      <p>DesinformaÃ§Ã£o sobre o clima se espalha nas redes.</p>
      <p><strong>SoluÃ§Ã£o:</strong> GTI ComunicaÃ§Ã£o</p>
    </div>
    <div class="card" id="evento5" ondragover="allowDrop(event)" ondragleave="dragLeave(event)" ondrop="drop(event, 'artes')">
      <h3>ğŸŒ³ Desmatamento Local</h3>
      <p>Perda da biodiversidade prÃ³xima Ã  escola.</p>
      <p><strong>SoluÃ§Ã£o:</strong> GTI Artes</p>
    </div>
    <div class="card" id="evento6" ondragover="allowDrop(event)" ondragleave="dragLeave(event)" ondrop="drop(event, 'educacao')">
      <h3>ğŸ“š Desconhecimento ClimÃ¡tico</h3>
      <p>Estudantes nÃ£o entendem a crise climÃ¡tica.</p>
      <p><strong>SoluÃ§Ã£o:</strong> GTI EducaÃ§Ã£o ClimÃ¡tica</p>
    </div>
    <div class="card" id="evento7" ondragover="allowDrop(event)" ondragleave="dragLeave(event)" ondrop="drop(event, 'saude')">
      <h3>ğŸ¥ Crise RespiratÃ³ria</h3>
      <p>Aumento de doenÃ§as respiratÃ³rias por mÃ¡ qualidade do ar.</p>
      <p><strong>SoluÃ§Ã£o:</strong> GTI SaÃºde PÃºblica</p>
    </div>
    <div class="card" id="evento8" ondragover="allowDrop(event)" ondragleave="dragLeave(event)" ondrop="drop(event, 'justica')">
      <h3>âš–ï¸ Escola em Ãrea VulnerÃ¡vel</h3>
      <p>Enchentes e calor intenso afetam os mais pobres.</p>
      <p><strong>SoluÃ§Ã£o:</strong> GTI JustiÃ§a ClimÃ¡tica</p>
    </div>
    <div class="card" id="evento9" ondragover="allowDrop(event)" ondragleave="dragLeave(event)" ondrop="drop(event, 'infra')">
      <h3>ğŸŒ± Falta de Natureza</h3>
      <p>Ambiente escolar sem Ã¡reas verdes e sombreamento.</p>
      <p><strong>SoluÃ§Ã£o:</strong> GTI Infraestrutura Verde</p>
    </div>
  </div>

  <h2>Cartas de GTIs</h2>
  <div class="gtis">
    <div class="gti" draggable="true" ondragstart="drag(event)" id="engenharia">GTI Engenharia ğŸŒ³</div>
    <div class="gti" draggable="true" ondragstart="drag(event)" id="ciencia">GTI CiÃªncia CidadÃ£ ğŸ”¬</div>
    <div class="gti" draggable="true" ondragstart="drag(event)" id="sistemas">GTI Sistemas Alimentares ğŸ¥•</div>
    <div class="gti" draggable="true" ondragstart="drag(event)" id="comunicacao">GTI ComunicaÃ§Ã£o ğŸ“£</div>
    <div class="gti" draggable="true" ondragstart="drag(event)" id="artes">GTI Artes ğŸ­</div>
    <div class="gti" draggable="true" ondragstart="drag(event)" id="educacao">GTI EducaÃ§Ã£o ClimÃ¡tica ğŸ“š</div>
    <div class="gti" draggable="true" ondragstart="drag(event)" id="saude">GTI SaÃºde PÃºblica ğŸ¥</div>
    <div class="gti" draggable="true" ondragstart="drag(event)" id="justica">GTI JustiÃ§a ClimÃ¡tica âš–ï¸</div>
    <div class="gti" draggable="true" ondragstart="drag(event)" id="infra">GTI Infraestrutura Verde ğŸŒ¿</div>
  </div>

  <div class="status" id="status">
    <strong>Status:</strong> 9 eventos ativos | NÃ­vel de EmergÃªncia: 9 | EsperanÃ§a ativa: 0 pontos
  </div>

  <div class="modal" id="modal">
    <div class="modal-content">
      <h3 id="modalTitle">GTI</h3>
      <p id="modalText">Texto do GTI</p>
      <button onclick="fecharModal()">OK</button>
    </div>
  </div>

  <script>
    let emergencias = 9;
    let pontos = 0;
    const usados = new Set();

    const explicacoes = {
      engenharia: "O GTI Engenharia atua na criaÃ§Ã£o de soluÃ§Ãµes fÃ­sicas e estruturais para mitigar os impactos das mudanÃ§as climÃ¡ticas, como sombreamento, ventilaÃ§Ã£o e infraestrutura verde.",
      ciencia: "O GTI CiÃªncia CidadÃ£ envolve a comunidade na coleta e anÃ¡lise de dados sobre saÃºde e ambiente, promovendo conhecimento coletivo e tomada de decisÃ£o local.",
      sistemas: "O GTI Sistemas Alimentares trabalha para garantir alimentaÃ§Ã£o saudÃ¡vel e sustentÃ¡vel nas escolas, incentivando o consumo de alimentos frescos e locais.",
      comunicacao: "O GTI ComunicaÃ§Ã£o combate a desinformaÃ§Ã£o e promove o acesso a informaÃ§Ãµes confiÃ¡veis sobre o clima e a saÃºde planetÃ¡ria por meio de mÃ­dias acessÃ­veis e educativas.",
      artes: "O GTI Artes mobiliza sensibilidades e promove reflexÃµes por meio de expressÃµes artÃ­sticas, fortalecendo o vÃ­nculo emocional com a natureza e despertando a consciÃªncia ambiental.",
      educacao: "O GTI EducaÃ§Ã£o ClimÃ¡tica atua na inserÃ§Ã£o de temas ambientais no currÃ­culo escolar, estimulando a formaÃ§Ã£o de cidadÃ£os crÃ­ticos e conscientes da crise climÃ¡tica.",
      saude: "O GTI SaÃºde PÃºblica age para prevenir doenÃ§as associadas ao clima, promovendo ambientes escolares saudÃ¡veis e campanhas de prevenÃ§Ã£o baseadas em evidÃªncias.",
      justica: "O GTI JustiÃ§a ClimÃ¡tica atua para reduzir desigualdades e garantir que comunidades vulnerÃ¡veis tenham acesso a condiÃ§Ãµes dignas diante dos impactos ambientais.",
      infra: "O GTI Infraestrutura Verde propÃµe soluÃ§Ãµes baseadas na natureza para tornar os espaÃ§os escolares mais resilientes, verdes e adaptados Ã s mudanÃ§as climÃ¡ticas."
    };

    function allowDrop(ev) {
      ev.preventDefault();
      ev.currentTarget.classList.add("drag-over");
    }

    function dragLeave(ev) {
      ev.currentTarget.classList.remove("drag-over");
    }

    function drag(ev) {
      ev.dataTransfer.setData("gti", ev.target.id);
    }

    function drop(ev, gtiCorreto) {
      ev.preventDefault();
      ev.currentTarget.classList.remove("drag-over");

      const gti = ev.dataTransfer.getData("gti");
      const evento = ev.currentTarget;

      if (usados.has(gti)) {
        atualizarStatus(`âš ï¸ O GTI ${gti.toUpperCase()} jÃ¡ foi usado.`);
        return;
      }

      if (gti === gtiCorreto && evento.style.display !== 'none') {
        evento.classList.add('fade-out');
        setTimeout(() => evento.style.display = 'none', 600);
        emergencias--;
        pontos += 5;
        usados.add(gti);
        document.getElementById(gti).classList.add("usado");
        atualizarStatus(`âœ… VocÃª aplicou corretamente o GTI ${gti.toUpperCase()}!`);
        mostrarModal(gti);
        tocarSomAcerto();
      } else {
        atualizarStatus(`âŒ O GTI ${gti.toUpperCase()} nÃ£o resolve esse evento.`);
      }

      if (emergencias === 0) {
        document.getElementById('status').innerHTML += '<br><strong>ğŸŒŸ ParabÃ©ns! VocÃª resolveu todas as emergÃªncias!</strong>';
      }
    }

    function atualizarStatus(mensagem) {
      document.getElementById('status').innerHTML =
        `<strong>Status:</strong> ${emergencias} eventos ativos | NÃ­vel de EmergÃªncia: ${emergencias} | EsperanÃ§a ativa: ${pontos} pontos<br>${mensagem}`;
    }

    function mostrarModal(gti) {
      document.getElementById("modalTitle").innerText = `GTI ${gti.toUpperCase()}`;
      document.getElementById("modalText").innerText = explicacoes[gti] || "Sem explicaÃ§Ã£o definida.";
      document.getElementById("modal").style.display = "flex";
    }

    function fecharModal() {
      document.getElementById("modal").style.display = "none";
    }

    function tocarSomAcerto() {
      const ctx = new (window.AudioContext || window.webkitAudioContext)();
      const o = ctx.createOscillator();
      const g = ctx.createGain();
      o.type = "triangle";
      o.frequency.setValueAtTime(660, ctx.currentTime);
      g.gain.setValueAtTime(0.2, ctx.currentTime);
      o.connect(g);
      g.connect(ctx.destination);
      o.start();
      o.stop(ctx.currentTime + 0.2);
    }
  </script>
</body>
</html>
